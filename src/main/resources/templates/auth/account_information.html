<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">

  <title>PBGW-STORE</title>
  <link rel="shortcut icon" th:href="@{/assetsLandingPage/images/logo/favourite_icon.svg}">

  <th:block th:replace="~{fragment/framework :: framework}"></th:block>
</head>


<body>

<!-- body_wrap - start -->
<div class="body_wrap">

  <!-- backtotop - start -->
  <div class="backtotop">
    <a href="#" class="scroll">
      <i class="far fa-arrow-up"></i>
    </a>
  </div>
  <!-- backtotop - end -->

  <!-- preloader - start -->
  <div id="preloader"></div>
  <!-- preloader - end -->

  <!-- header_section - start
  ================================================== -->
  <th:block th:replace="~{fragment/header :: header}"></th:block>
  <!-- header_section - end
  ================================================== -->

  <!-- main body - start
  ================================================== -->
  <main>

    <!-- sidebar cart - start
    ================================================== -->

    <!-- sidebar cart - end
    ================================================== -->

    <!-- breadcrumb_section - start
    ================================================== -->
    <div class="breadcrumb_section">
      <div class="container">
        <ul class="breadcrumb_nav ul_li">
          <li><a th:href="@{/}">Home</a></li>
          <li>My Account</li>
        </ul>
      </div>
    </div>
    <!-- breadcrumb_section - end
    ================================================== -->

    <!-- account_section - start
    ================================================== -->
    <section class="account_section section_space">
      <div class="container">
        <div class="row">
          <div class="col col-lg-3">
            <div class="account_menu">
              <h2 class="title_text">My Account</h2>
              <ul class="account_menu_list ul_li_block">
                <li class="active"><a th:href="@{/account}">Account Dashboard</a></li>
                <li><a th:href="@{/change-password}">Change Password</a></li>
                <!--                    <li><a href="#!">Address Book</a></li>-->
                <li><a th:href="@{/myOrder}">My Orders</a></li>
                <!--                    <li><a href="#!">Billing Agreements</a></li>-->
                <!--                    <li><a href="#!">Recurring Profiles</a></li>-->
                <!--                    <li><a href="#!">My Product Reviews</a></li>-->
                <!--                    <li><a href="#!">My Tags</a></li>-->
                <!--                    <li><a href="#!">My Wishlist</a></li>-->
                <!--                    <li><a href="#!">My Applications</a></li>-->
                <!--                    <li><a href="#!">Newsletter Subscriptions</a></li>-->
                <!--                    <li><a href="#!">My Downloadable Products</a></li>-->
              </ul>
            </div>
          </div>

          <div class="col col-lg-9">
            <div class="account_content_area">
              <h3>My Dashboard</h3>
              <ul class="content_layout ul_li_block">
                <li>
                  <h4><strong>
                    Hello, <span  th:utext=" ''+${user.firstName} + ' '+ ${user.lastName}"></span>
                  </strong></h4>
                  <p class="mb-0">
                    From your My Account Dashboard you have the ability to view a snapshot of your recent account activity and update your account information. Select a link below to view or edit information.
                  </p>
                </li>
                <li>
                  <h4>Contact Information</h4>
                  <form role="form" th:action="@{/update-user-info}" th:object="${user}" method="post" enctype="multipart/form-data">
                    <div class="form-group">
                      <label for="firstName">First Name</label>
                      <input type="text" id="firstName" name="firstName" class="form-control" th:value="${user.firstName}" required>
                    </div>
                    <div class="form-group">
                      <label for="lastName">Last Name</label>
                      <input type="text" id="lastName" name="lastName" class="form-control" th:value="${user.lastName}" required>
                    </div>
                    <div class="form-group">
                      <label for="phone">Phone</label>
                      <input type="text" id="phone" name="phone" class="form-control" th:value="${user.phone}" required>
                    </div>
                    <div class="form-group">
                      <label for="email">Email</label>
                      <input type="email" id="email" name="email" class="form-control" th:value="${user.email}" readonly>
                    </div>
                    <div class="form-group">
                      <label for="avatar">Profile Image</label>
                      <div class="d-flex justify-content-center">
                        <img th:if="${user.avatar != null}" th:src="@{'data:image/jpeg;base64,' + ${user.getAvatarDataBase64()}}" alt="Profile Image" style="width: 200px !important; height: 200px !important;">
                        <img th:unless="${user.avatar != null}" th:src="@{/images/pfp.jpg}" alt="Default Profile Image" style="width: 200px !important; height: 200px !important;">
                      </div>
                      <input type="file" id="avatar" name="avatar" class="form-control" accept="image/*">
                    </div>

                    <div class="mt-3 form-group text-center">
                      <button type="submit" class="btn btn_gray">Save Changes</button>
                    </div>
                  </form>
                </li>
                <!--                    <li>-->
                <!--                      <h4>Newsletter</h4>-->
                <!--                      <p>-->
                <!--                        You are currently not subscribed to any newsletter.-->
                <!--                      </p>-->
                <!--                      <a class="btn btn_gray" href="#!">Edit Subscription</a>-->
                <!--                    </li>-->
                <!--                    <li>-->
                <!--                      <h4 class="mb-3">Address Book</h4>-->
                <!--                      <a class="btn btn_gray" href="#!">Manage Addresses</a>-->
                <!--                    </li>-->
                <!--                    <li>-->
                <!--                      <h4>Default Billing Address</h4>-->
                <!--                      <p>-->
                <!--                        You have not set a default billing address.-->
                <!--                      </p>-->
                <!--                      <a class="btn btn_gray" href="#!">Edit Address</a>-->
                <!--                    </li>-->
                <!--                    <li>-->
                <!--                      <h4>Default Shipping Address</h4>-->
                <!--                      <p>-->
                <!--                        You have not set a default shipping address.-->
                <!--                      </p>-->
                <!--                      <a class="btn btn_gray" href="#!">Edit Address</a>-->
                <!--                    </li>-->
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- account_section - end
    ================================================== -->

    <!-- newsletter_section - start
    ================================================== -->
    <section class="newsletter_section">
      <div class="container">
        <div class="row align-items-center">
          <div class="col col-lg-6">
            <h2 class="newsletter_title text-white">
              <i class="icofont-paper-plane"></i>
              Sign Up for Newsletter
            </h2>
          </div>
          <div class="col col-lg-6">
            <form action="#!">
              <div class="newsletter_form">
                <input type="email" name="email" placeholder="Enter your email address">
                <button type="submit" class="btn btn_danger">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
    <!-- newsletter_section - end
    ================================================== -->

  </main>
  <!-- main body - end
  ================================================== -->

  <!-- footer_section - start
  ================================================== -->
  <th:block th:replace="~{fragment/footer :: footer}"></th:block>
  <!-- footer_section - end
  ================================================== -->

</div>
<!-- body_wrap - end -->

<!-- framework - jquery include -->
<th:block th:replace="~{fragment/script :: script}"></th:block>
</body>
</html>
